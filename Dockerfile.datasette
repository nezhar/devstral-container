FROM python:3.11-slim

# Install datasette and useful plugins
RUN pip install --no-cache-dir \
    datasette \
    datasette-json-html \
    datasette-pretty-json

WORKDIR /data

# Expose datasette port
EXPOSE 8001

# Run datasette with the logs database
CMD ["datasette", "/data/logs.db", "--host", "0.0.0.0", "--port", "8001", "--setting", "sql_time_limit_ms", "10000"]
